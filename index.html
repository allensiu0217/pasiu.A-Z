<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>N1 å­—æ¯å¤§å†’éšª A-Z</title>
    <style>
        :root {
            --primary-bg: #fff9c4;
            --ocean-blue: #03a9f4;
            --apple-red: #ff5252;
            --grass-green: #4caf50;
            --font-family: 'Comic Sans MS', 'Chalkboard SE', 'Microsoft JhengHei', sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--primary-bg);
            font-family: var(--font-family);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            touch-action: manipulation;
        }

        /* å°é¢é¸æ“‡ä»‹é¢ - å¯æ„›è¨­è¨ˆç‰ˆ */
        #menu-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(180deg, #fffde7 0%, #fff9c4 100%);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .deco {
            position: absolute;
            font-size: 3.5rem;
            animation: float 4s ease-in-out infinite;
            pointer-events: none;
            opacity: 0.8;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-25px) rotate(15deg); }
        }

        .title-box {
            background: white;
            padding: 25px 50px;
            border-radius: 60px;
            box-shadow: 0 10px 0 #fdd835;
            margin-bottom: 30px;
            border: 6px solid #ffeb3b;
            position: relative;
        }

        .title-box::before { content: 'ğŸ¦'; position: absolute; left: -30px; top: -20px; font-size: 3rem; }
        .title-box::after { content: 'ğŸ¦’'; position: absolute; right: -30px; bottom: -10px; font-size: 3rem; }

        .menu-btn {
            width: 85vw;
            max-width: 480px;
            padding: 22px;
            margin: 15px;
            font-size: 2.3rem;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 35px;
            cursor: pointer;
            box-shadow: 0 8px 0 rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            transition: transform 0.2s;
            animation: pulse 2s infinite ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        .menu-btn:active { transform: translateY(4px); box-shadow: 0 4px 0 rgba(0,0,0,0.15); }
        
        .btn-group1 { background: linear-gradient(135deg, #ff7043, #f4511e); border-bottom: 8px solid #bf360c; }
        .btn-group2 { background: linear-gradient(135deg, #42a5f5, #1e88e5); border-bottom: 8px solid #0d47a1; }
        .btn-group3 { background: linear-gradient(135deg, #66bb6a, #43a047); border-bottom: 8px solid #1b5e20; }

        /* éŠæˆ²ä»‹é¢ */
        .game-bar {
            width: 90vw;
            max-width: 600px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            z-index: 10;
        }

        .progress-map {
            flex-grow: 1;
            height: 15px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-left: 15px;
            position: relative;
            border: 2px solid #bdbdbd;
        }

        .progress-pin {
            position: absolute;
            top: -20px;
            transition: left 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-size: 2rem;
        }

        .stage {
            width: 95vw;
            height: 65vh;
            max-width: 700px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            border: 12px solid #81d4fa;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }

        .letter-group {
            display: flex;
            align-items: baseline;
            gap: 20px;
            cursor: pointer;
        }

        .upper-case { font-size: 10rem; font-weight: bold; color: var(--apple-red); line-height: 1; filter: drop-shadow(4px 4px 0 #ffebee); }
        .lower-case { font-size: 7rem; font-weight: bold; color: var(--ocean-blue); line-height: 1; filter: drop-shadow(3px 3px 0 #e1f5fe); }

        .treasure-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            width: 100%;
        }

        .card {
            perspective: 1000px;
            height: 130px;
            cursor: pointer;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1.2);
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner { transform: rotateY(180deg); }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card-front { background: linear-gradient(135deg, #ffccbc, #ffab91); border: 4px solid white; font-size: 3.5rem; }
        .card-front::after { content: "ğŸ"; }
        
        .card-back { background-color: #e8f5e9; transform: rotateY(180deg); border: 4px solid var(--grass-green); flex-direction: column; }

        .icon { font-size: 4.8rem; }
        .name { font-size: 0.9rem; font-weight: bold; color: #333; margin-top: 5px; }

        .btn {
            padding: 18px 60px;
            font-size: 1.8rem;
            font-weight: bold;
            border: none;
            border-radius: 60px;
            cursor: pointer;
            background: var(--grass-green);
            color: white;
            box-shadow: 0 8px 0 #2e7d32;
        }

        .btn:active { transform: translateY(4px); box-shadow: 0 4px 0 #2e7d32; }
        .btn:disabled { background: #ccc; box-shadow: 0 8px 0 #999; cursor: not-allowed; opacity: 0.8; }

        #win-screen {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: white;
            z-index: 3000;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
    </style>
</head>
<body>

    <!-- å¯æ„›å°é¢é¸æ“‡ä»‹é¢ -->
    <div id="menu-screen">
        <div class="deco" style="top:5%; left:10%;">ğŸˆ</div>
        <div class="deco" style="top:15%; right:10%; animation-delay: -1s;">â˜ï¸</div>
        <div class="deco" style="bottom:10%; left:5%; animation-delay: -2s;">ğŸŒ¸</div>
        <div class="deco" style="bottom:20%; right:15%; animation-delay: -3s;">â­</div>

        <div class="title-box">
            <h1 style="font-size: 2.8rem; color: #5d4037; margin: 0;">å­—æ¯å¤§ç™¼ç¾ ğŸ</h1>
            <p style="color: #f57f17; font-weight: bold; margin-top: 10px; font-size: 1.3rem;">é¸ä¸€å€‹å¯¶åº«é–‹å§‹ç©å§ï¼</p>
        </div>
        
        <button class="menu-btn btn-group1" onclick="startGame(0, 9)">
            <span>A - J</span> <span>ğŸš€</span>
        </button>
        <button class="menu-btn btn-group2" onclick="startGame(10, 17)">
            <span>K - R</span> <span>ğŸŒˆ</span>
        </button>
        <button class="menu-btn btn-group3" onclick="startGame(18, 25)">
            <span>S - Z</span> <span>ğŸ°</span>
        </button>
    </div>

    <!-- éŠæˆ²é€²è¡Œä»‹é¢ -->
    <div class="game-bar">
        <div style="font-weight: bold; color: #f57f17; font-size: 1.4rem;">æ‰¾åˆ°: <span id="count-text">0</span> / 3</div>
        <div class="progress-map">
            <div class="progress-pin" id="prog-pin">ğŸƒ</div>
        </div>
    </div>

    <div class="stage">
        <div class="letter-group" onclick="speakLetter()">
            <span class="upper-case" id="upper">A</span>
            <span class="lower-case" id="lower">a</span>
        </div>

        <h2 id="instruction" style="color: #ef6c00; font-size: 2rem;">æ‰“é–‹ 3 å€‹ç›’å­å§ï¼ğŸ</h2>

        <div class="treasure-grid" id="grid"></div>
    </div>

    <div style="margin-top: 25px;">
        <button class="btn" id="nextBtn" onclick="nextLevel()" disabled>ä¸‹ä¸€å€‹ â”</button>
    </div>

    <!-- å‹åˆ©ä»‹é¢ -->
    <div id="win-screen">
        <div style="font-size: 8rem;">ğŸŠ</div>
        <h1 id="win-title" style="font-size: 3.5rem; color: #ef5350;">å¤ªæ£’äº†ï¼</h1>
        <p style="font-size: 1.8rem; color: #5d4037; margin-bottom: 40px;">å…¨éƒ¨æŒ‘æˆ°æˆåŠŸå–”ï¼</p>
        <button class="btn" onclick="location.reload()">å›ä¸»é¸å–®</button>
    </div>

    <script>
        const fullData = [
            { u: 'A', l: 'a', ex: [{i:'ğŸ', n:'Apple'}, {i:'ğŸœ', n:'Ant'}, {i:'ğŸŠ', n:'Alligator'}, {i:'ğŸš‘', n:'Ambulance'}, {i:'âœˆï¸', n:'Airplane'}]},
            { u: 'B', l: 'b', ex: [{i:'ğŸ¦', n:'Bird'}, {i:'ğŸŒ', n:'Banana'}, {i:'ğŸ»', n:'Bear'}, {i:'ğŸšŒ', n:'Bus'}, {i:'ğŸ””', n:'Bell'}]},
            { u: 'C', l: 'c', ex: [{i:'ğŸ±', n:'Cat'}, {i:'ğŸš—', n:'Car'}, {i:'ğŸ°', n:'Cake'}, {i:'ğŸ•¯ï¸', n:'Candle'}, {i:'ğŸŒ½', n:'Corn'}]},
            { u: 'D', l: 'd', ex: [{i:'ğŸ¶', n:'Dog'}, {i:'ğŸ¦†', n:'Duck'}, {i:'ğŸ¥', n:'Drum'}, {i:'ğŸ¬', n:'Dolphin'}, {i:'ğŸ©', n:'Donut'}]},
            { u: 'E', l: 'e', ex: [{i:'ğŸ˜', n:'Elephant'}, {i:'ğŸ¥š', n:'Egg'}, {i:'ğŸ‘‚', n:'Ear'}, {i:'ğŸ¦…', n:'Eagle'}, {i:'ğŸ”Œ', n:'Electricity'}]},
            { u: 'F', l: 'f', ex: [{i:'ğŸŸ', n:'Fish'}, {i:'ğŸ¸', n:'Frog'}, {i:'ğŸŒ¸', n:'Flower'}, {i:'ğŸŸ', n:'Fries'}, {i:'ğŸ¦Š', n:'Fox'}]},
            { u: 'G', l: 'g', ex: [{i:'ğŸ¦', n:'Gorilla'}, {i:'ğŸ‡', n:'Grapes'}, {i:'ğŸ¸', n:'Guitar'}, {i:'ğŸ', n:'Gift'}, {i:'ğŸ¦’', n:'Giraffe'}]},
            { u: 'H', l: 'h', ex: [{i:'ğŸ‘’', n:'Hat'}, {i:'ğŸ ', n:'House'}, {i:'ğŸ', n:'Horse'}, {i:'ğŸ–ï¸', n:'Hand'}, {i:'ğŸ”', n:'Hamburger'}]},
            { u: 'I', l: 'i', ex: [{i:'ğŸ¦', n:'Ice-cream'}, {i:'â„ï¸', n:'Igloo'}, {i:'ğŸ¦', n:'Iguana'}, {i:'ğŸ–‹ï¸', n:'Ink'}, {i:'ğŸï¸', n:'Island'}]},
            { u: 'J', l: 'j', ex: [{i:'ğŸ§ƒ', n:'Juice'}, {i:'ğŸ§¥', n:'Jacket'}, {i:'ğŸ‘¾', n:'Jellyfish'}, {i:'ğŸ›«', n:'Jet'}, {i:'ğŸ«™', n:'Jar'}]},
            { u: 'K', l: 'k', ex: [{i:'ğŸª', n:'Kite'}, {i:'ğŸ”‘', n:'Key'}, {i:'ğŸ‘‘', n:'King'}, {i:'ğŸ¥', n:'Kiwi'}, {i:'ğŸ¨', n:'Koala'}]},
            { u: 'L', l: 'l', ex: [{i:'ğŸ¦', n:'Lion'}, {i:'ğŸ‹', n:'Lemon'}, {i:'ğŸ’¡', n:'Light'}, {i:'ğŸ­', n:'Lollipop'}, {i:'ğŸƒ', n:'Leaf'}]},
            { u: 'M', l: 'm', ex: [{i:'ğŸµ', n:'Monkey'}, {i:'ğŸŒ™', n:'Moon'}, {i:'ğŸ¥›', n:'Milk'}, {i:'ğŸ­', n:'Mouse'}, {i:'ğŸ„', n:'Mushroom'}]},
            { u: 'N', l: 'n', ex: [{i:'ğŸ‘ƒ', n:'Nose'}, {i:'ğŸªº', n:'Nest'}, {i:'ğŸ”©', n:'Nut'}, {i:'ğŸ““', n:'Notebook'}, {i:'ğŸŒ‰', n:'Night'}]},
            { u: 'O', l: 'o', ex: [{i:'ğŸ™', n:'Octopus'}, {i:'ğŸŠ', n:'Orange'}, {i:'ğŸ¦‰', n:'Owl'}, {i:'ğŸ§…', n:'Onion'}, {i:'ğŸ¦ª', n:'Oyster'}]},
            { u: 'P', l: 'p', ex: [{i:'ğŸ·', n:'Pig'}, {i:'ğŸ¼', n:'Panda'}, {i:'ğŸ', n:'Pear'}, {i:'âœï¸', n:'Pencil'}, {i:'ğŸ•', n:'Pizza'}]},
            { u: 'Q', l: 'q', ex: [{i:'ğŸ‘‘', n:'Queen'}, {i:'â“', n:'Question'}, {i:'ğŸ¤«', n:'Quiet'}, {i:'ğŸ§µ', n:'Quilt'}, {i:'ğŸ¦†', n:'Quack'}]},
            { u: 'R', l: 'r', ex: [{i:'ğŸ°', n:'Rabbit'}, {i:'ğŸŒˆ', n:'Rainbow'}, {i:'ğŸ¤–', n:'Robot'}, {i:'ğŸ’', n:'Ring'}, {i:'ğŸš€', n:'Rocket'}]},
            { u: 'S', l: 's', ex: [{i:'â˜€ï¸', n:'Sun'}, {i:'ğŸ', n:'Snake'}, {i:'ğŸš¢', n:'Ship'}, {i:'ğŸ“', n:'Strawberry'}, {i:'â­', n:'Star'}]},
            { u: 'T', l: 't', ex: [{i:'ğŸ¯', n:'Tiger'}, {i:'ğŸ¢', n:'Turtle'}, {i:'ğŸ…', n:'Tomato'}, {i:'ğŸš‚', n:'Train'}, {i:'ğŸŒ³', n:'Tree'}]},
            { u: 'U', l: 'u', ex: [{i:'â˜‚ï¸', n:'Umbrella'}, {i:'ğŸ¦„', n:'Unicorn'}, {i:'â¬†ï¸', n:'Up'}, {i:'ğŸ©²', n:'Underwear'}, {i:'ğŸ¥£', n:'Utensils'}]},
            { u: 'V', l: 'v', ex: [{i:'ğŸ»', n:'Violin'}, {i:'ğŸš', n:'Van'}, {i:'ğŸŒ‹', n:'Volcano'}, {i:'ğŸº', n:'Vase'}, {i:'ğŸ«‘', n:'Vegetable'}]},
            { u: 'W', l: 'w', ex: [{i:'ğŸ³', n:'Whale'}, {i:'âŒš', n:'Watch'}, {i:'ğŸ‰', n:'Watermelon'}, {i:'ğŸ•¸ï¸', n:'Web'}, {i:'ğŸªŸ', n:'Window'}]},
            { u: 'X', l: 'x', ex: [{i:'ğŸª—', n:'Xylophone'}, {i:'ğŸ©»', n:'X-ray'}, {i:'ğŸ„', n:'Xmas Tree'}, {i:'ğŸ¦Š', n:'Fox'}, {i:'ğŸ“¦', n:'Box'}]},
            { u: 'Y', l: 'y', ex: [{i:'ğŸª€', n:'Yo-yo'}, {i:'ğŸŸ¡', n:'Yellow'}, {i:'â›µ', n:'Yacht'}, {i:'ğŸ³', n:'Yolk'}, {i:'ğŸ‚', n:'Yak'}]},
            { u: 'Z', l: 'z', ex: [{i:'ğŸ¦“', n:'Zebra'}, {i:'âš¡', n:'Zap'}, {i:'ğŸ¤', n:'Zipper'}, {i:'0ï¸âƒ£', n:'Zero'}, {i:'ğŸ¦', n:'Zoo'}]}
        ];

        let currentIdx = 0;
        let alphabetData = [];
        let foundCount = 0;

        function startGame(s, e) {
            alphabetData = fullData.slice(s, e + 1);
            currentIdx = 0;
            document.getElementById('menu-screen').style.display = 'none';
            loadLevel();
        }

        function loadLevel() {
            const data = alphabetData[currentIdx];
            document.getElementById('upper').innerText = data.u;
            document.getElementById('lower').innerText = data.l;
            
            const groupTotal = alphabetData.length - 1;
            const progress = groupTotal === 0 ? 100 : (currentIdx / groupTotal * 100);
            document.getElementById('prog-pin').style.left = progress + '%';
            
            document.getElementById('nextBtn').disabled = true;
            document.getElementById('instruction').innerText = "æ‰“é–‹ 3 å€‹ç›’å­å§ï¼ğŸ";
            document.getElementById('count-text').innerText = "0";
            
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            foundCount = 0;

            data.ex.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-inner">
                        <div class="card-front"></div>
                        <div class="card-back">
                            <div class="icon">${item.i}</div>
                            <div class="name">${item.n}</div>
                        </div>
                    </div>
                `;
                card.onclick = () => flipCard(card, index, item.n);
                grid.appendChild(card);
            });

            speak(data.u);
        }

        function flipCard(card, idx, name) {
            if (card.classList.contains('flipped') || foundCount >= 3) return;

            card.classList.add('flipped');
            foundCount++;
            document.getElementById('count-text').innerText = foundCount;
            
            // èªéŸ³ç¯„ä¾‹ï¼šå°‡å­—æ¯èˆ‡å–®å­—åˆ†é–‹è®€ï¼Œå¢åŠ æ¸…æ™°åº¦
            speak(`${alphabetData[currentIdx].u} ... for ... ${name}`);

            if (foundCount === 3) {
                document.getElementById('nextBtn').disabled = false;
                document.getElementById('instruction').innerText = "å¥½æ£’ï¼é»ä¸‹ä¸€æ­¥ â”";
            }
        }

        function speakLetter() {
            speak(alphabetData[currentIdx].u);
        }

        function speak(text) {
            const u = new SpeechSynthesisUtterance(text);
            u.lang = 'en-US';
            u.rate = 0.6; // èª¿æ•´ç‚ºæ›´æ…¢çš„èªé€Ÿ (åŸæœ¬æ˜¯ 0.8)
            u.pitch = 1.1; // ç¨å¾®èª¿é«˜éŸ³èª¿ï¼Œè½èµ·ä¾†æ›´è¦ªåˆ‡
            window.speechSynthesis.cancel();
            window.speechSynthesis.speak(u);
        }

        function nextLevel() {
            currentIdx++;
            if (currentIdx >= alphabetData.length) {
                document.getElementById('win-screen').style.display = 'flex';
                document.getElementById('win-title').innerText = `${alphabetData[0].u}-${alphabetData[alphabetData.length-1].u} å®Œæˆï¼`;
            } else {
                loadLevel();
            }
        }
    </script>
</body>
</html>
